<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>heap.libraryMaybe</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="heap.libraryMaybe.html" class="Module">heap.libraryMaybe</a> <a id="26" class="Keyword">where</a>

<a id="33" class="Keyword">open</a> <a id="38" class="Keyword">import</a> <a id="45" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="56" class="Keyword">hiding</a> <a id="63" class="Symbol">(</a><a id="64" href="Data.Maybe.Base.html#1352" class="Function">maybe</a><a id="69" class="Symbol">)</a>
<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="94" class="Keyword">open</a> <a id="99" class="Keyword">import</a> <a id="106" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>
<a id="121" class="Keyword">open</a> <a id="126" class="Keyword">import</a> <a id="133" href="Data.Product.html" class="Module">Data.Product</a> <a id="146" class="Keyword">renaming</a> <a id="155" class="Symbol">(</a><a id="156" href="Data.Product.html#559" class="Field">proj₁</a> <a id="162" class="Symbol">to</a> <a id="165" href="Data.Product.html#559" class="Field">pr₁</a><a id="168" class="Symbol">;</a> <a id="170" href="Data.Product.html#573" class="Field">proj₂</a> <a id="176" class="Symbol">to</a> <a id="179" href="Data.Product.html#573" class="Field">pr₂</a><a id="182" class="Symbol">;</a> <a id="184" href="Data.Product.html#1329" class="Function Operator">_×_</a> <a id="188" class="Symbol">to</a> <a id="191" href="Data.Product.html#1329" class="Function Operator">_×&#39;_</a><a id="195" class="Symbol">;</a> <a id="197" href="Data.Product.html#2128" class="Function">map</a> <a id="201" class="Symbol">to</a> <a id="204" href="Data.Product.html#2128" class="Function">mapp</a><a id="208" class="Symbol">)</a>

<a id="211" class="Keyword">data</a> <a id="NativeMaybe"></a><a id="216" href="heap.libraryMaybe.html#216" class="Datatype">NativeMaybe</a> <a id="228" class="Symbol">(</a><a id="229" href="heap.libraryMaybe.html#229" class="Bound">A</a> <a id="231" class="Symbol">:</a> <a id="233" class="PrimitiveType">Set</a><a id="236" class="Symbol">)</a> <a id="238" class="Symbol">:</a> <a id="240" class="PrimitiveType">Set</a> <a id="244" class="Keyword">where</a>
  <a id="NativeMaybe.nothingNative"></a><a id="252" href="heap.libraryMaybe.html#252" class="InductiveConstructor">nothingNative</a> <a id="266" class="Symbol">:</a> <a id="268" href="heap.libraryMaybe.html#216" class="Datatype">NativeMaybe</a> <a id="280" href="heap.libraryMaybe.html#229" class="Bound">A</a>
  <a id="NativeMaybe.justNative"></a><a id="284" href="heap.libraryMaybe.html#284" class="InductiveConstructor">justNative</a> <a id="295" class="Symbol">:</a> <a id="297" href="heap.libraryMaybe.html#229" class="Bound">A</a> <a id="299" class="Symbol">→</a> <a id="301" href="heap.libraryMaybe.html#216" class="Datatype">NativeMaybe</a> <a id="313" href="heap.libraryMaybe.html#229" class="Bound">A</a>

<a id="316" class="Symbol">{-#</a> <a id="320" class="Keyword">COMPILE</a> GHC <a id="332" href="heap.libraryMaybe.html#216" class="Datatype">NativeMaybe</a> = data Maybe (Nothing | Just) <a id="374" class="Symbol">#-}</a>

<a id="nativeMaybeFunc"></a><a id="379" href="heap.libraryMaybe.html#379" class="Function">nativeMaybeFunc</a> <a id="395" class="Symbol">:</a> <a id="397" class="Symbol">{</a><a id="398" href="heap.libraryMaybe.html#398" class="Bound">A</a> <a id="400" class="Symbol">:</a> <a id="402" class="PrimitiveType">Set</a><a id="405" class="Symbol">}</a> <a id="407" class="Symbol">{</a><a id="408" href="heap.libraryMaybe.html#408" class="Bound">B</a> <a id="410" class="Symbol">:</a> <a id="412" class="PrimitiveType">Set</a><a id="415" class="Symbol">}</a> <a id="417" class="Symbol">→</a> <a id="419" class="Symbol">(</a><a id="420" href="heap.libraryMaybe.html#398" class="Bound">A</a> <a id="422" class="Symbol">→</a> <a id="424" href="heap.libraryMaybe.html#408" class="Bound">B</a><a id="425" class="Symbol">)</a> <a id="427" class="Symbol">→</a> <a id="429" href="heap.libraryMaybe.html#216" class="Datatype">NativeMaybe</a> <a id="441" href="heap.libraryMaybe.html#398" class="Bound">A</a> <a id="443" class="Symbol">→</a> <a id="445" href="heap.libraryMaybe.html#216" class="Datatype">NativeMaybe</a> <a id="457" href="heap.libraryMaybe.html#408" class="Bound">B</a>
<a id="459" href="heap.libraryMaybe.html#379" class="Function">nativeMaybeFunc</a> <a id="475" href="heap.libraryMaybe.html#475" class="Bound">f</a> <a id="477" class="Symbol">(</a><a id="478" href="heap.libraryMaybe.html#284" class="InductiveConstructor">justNative</a> <a id="489" href="heap.libraryMaybe.html#489" class="Bound">x</a><a id="490" class="Symbol">)</a> <a id="492" class="Symbol">=</a> <a id="494" href="heap.libraryMaybe.html#284" class="InductiveConstructor">justNative</a> <a id="505" class="Symbol">(</a><a id="506" href="heap.libraryMaybe.html#475" class="Bound">f</a> <a id="508" href="heap.libraryMaybe.html#489" class="Bound">x</a><a id="509" class="Symbol">)</a>
<a id="511" href="heap.libraryMaybe.html#379" class="Function">nativeMaybeFunc</a> <a id="527" href="heap.libraryMaybe.html#527" class="Bound">f</a> <a id="529" href="heap.libraryMaybe.html#252" class="InductiveConstructor">nothingNative</a> <a id="543" class="Symbol">=</a> <a id="545" href="heap.libraryMaybe.html#252" class="InductiveConstructor">nothingNative</a>

<a id="560" class="Symbol">{-#</a> <a id="564" class="Keyword">INLINE</a> <a id="571" href="heap.libraryMaybe.html#379" class="Function">nativeMaybeFunc</a> <a id="587" class="Symbol">#-}</a>

<a id="maybeFunc"></a><a id="592" href="heap.libraryMaybe.html#592" class="Function">maybeFunc</a> <a id="602" class="Symbol">:</a> <a id="604" class="Symbol">{</a><a id="605" href="heap.libraryMaybe.html#605" class="Bound">A</a> <a id="607" class="Symbol">:</a> <a id="609" class="PrimitiveType">Set</a><a id="612" class="Symbol">}</a> <a id="614" class="Symbol">{</a><a id="615" href="heap.libraryMaybe.html#615" class="Bound">B</a> <a id="617" class="Symbol">:</a> <a id="619" class="PrimitiveType">Set</a><a id="622" class="Symbol">}</a> <a id="624" class="Symbol">→</a> <a id="626" class="Symbol">(</a><a id="627" href="heap.libraryMaybe.html#605" class="Bound">A</a> <a id="629" class="Symbol">→</a> <a id="631" href="heap.libraryMaybe.html#615" class="Bound">B</a><a id="632" class="Symbol">)</a> <a id="634" class="Symbol">→</a> <a id="636" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="642" href="heap.libraryMaybe.html#605" class="Bound">A</a> <a id="644" class="Symbol">→</a> <a id="646" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="652" href="heap.libraryMaybe.html#615" class="Bound">B</a>
<a id="654" href="heap.libraryMaybe.html#592" class="Function">maybeFunc</a> <a id="664" href="heap.libraryMaybe.html#664" class="Bound">f</a> <a id="666" class="Symbol">(</a><a id="667" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="672" href="heap.libraryMaybe.html#672" class="Bound">x</a><a id="673" class="Symbol">)</a> <a id="675" class="Symbol">=</a> <a id="677" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="682" class="Symbol">(</a><a id="683" href="heap.libraryMaybe.html#664" class="Bound">f</a> <a id="685" href="heap.libraryMaybe.html#672" class="Bound">x</a><a id="686" class="Symbol">)</a>
<a id="688" href="heap.libraryMaybe.html#592" class="Function">maybeFunc</a> <a id="698" href="heap.libraryMaybe.html#698" class="Bound">f</a> <a id="700" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a> <a id="708" class="Symbol">=</a> <a id="710" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a>
<a id="718" class="Symbol">{-#</a> <a id="722" class="Keyword">INLINE</a> <a id="729" href="heap.libraryMaybe.html#592" class="Function">maybeFunc</a> <a id="739" class="Symbol">#-}</a>

<a id="IsNothing"></a><a id="744" href="heap.libraryMaybe.html#744" class="Function">IsNothing</a> <a id="754" class="Symbol">:</a> <a id="756" class="Symbol">{</a><a id="757" href="heap.libraryMaybe.html#757" class="Bound">A</a> <a id="759" class="Symbol">:</a> <a id="761" class="PrimitiveType">Set</a><a id="764" class="Symbol">}</a> <a id="766" class="Symbol">(</a><a id="767" href="heap.libraryMaybe.html#767" class="Bound">a</a> <a id="769" class="Symbol">:</a> <a id="771" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="777" href="heap.libraryMaybe.html#757" class="Bound">A</a><a id="778" class="Symbol">)</a> <a id="780" class="Symbol">→</a>  <a id="783" class="PrimitiveType">Set</a>
<a id="787" href="heap.libraryMaybe.html#744" class="Function">IsNothing</a> <a id="797" class="Symbol">(</a><a id="798" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="803" href="heap.libraryMaybe.html#803" class="Bound">x</a><a id="804" class="Symbol">)</a> <a id="806" class="Symbol">=</a> <a id="808" href="Data.Empty.html#243" class="Datatype">⊥</a>
<a id="810" href="heap.libraryMaybe.html#744" class="Function">IsNothing</a> <a id="820" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a> <a id="828" class="Symbol">=</a> <a id="830" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a>

<a id="IsJust"></a><a id="833" href="heap.libraryMaybe.html#833" class="Function">IsJust</a> <a id="840" class="Symbol">:</a> <a id="842" class="Symbol">{</a><a id="843" href="heap.libraryMaybe.html#843" class="Bound">A</a> <a id="845" class="Symbol">:</a> <a id="847" class="PrimitiveType">Set</a><a id="850" class="Symbol">}</a> <a id="852" class="Symbol">(</a><a id="853" href="heap.libraryMaybe.html#853" class="Bound">a</a> <a id="855" class="Symbol">:</a> <a id="857" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="863" href="heap.libraryMaybe.html#843" class="Bound">A</a><a id="864" class="Symbol">)</a> <a id="866" class="Symbol">→</a>  <a id="869" class="PrimitiveType">Set</a>
<a id="873" href="heap.libraryMaybe.html#833" class="Function">IsJust</a> <a id="880" class="Symbol">(</a><a id="881" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="886" href="heap.libraryMaybe.html#886" class="Bound">x</a><a id="887" class="Symbol">)</a> <a id="889" class="Symbol">=</a> <a id="891" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a>
<a id="893" href="heap.libraryMaybe.html#833" class="Function">IsJust</a> <a id="900" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a> <a id="908" class="Symbol">=</a> <a id="910" href="Data.Empty.html#243" class="Datatype">⊥</a>

<a id="NothingInductionLemma"></a><a id="913" href="heap.libraryMaybe.html#913" class="Function">NothingInductionLemma</a> <a id="935" class="Symbol">:</a> <a id="937" class="Symbol">∀{</a><a id="939" href="heap.libraryMaybe.html#939" class="Bound">A</a><a id="940" class="Symbol">}(</a><a id="942" href="heap.libraryMaybe.html#942" class="Bound">P</a> <a id="944" class="Symbol">:</a> <a id="946" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="952" href="heap.libraryMaybe.html#939" class="Bound">A</a> <a id="954" class="Symbol">→</a> <a id="956" class="PrimitiveType">Set</a><a id="959" class="Symbol">)</a> <a id="961" class="Symbol">→</a> <a id="963" class="Symbol">(</a><a id="964" href="heap.libraryMaybe.html#964" class="Bound">a</a> <a id="966" class="Symbol">:</a> <a id="968" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="974" href="heap.libraryMaybe.html#939" class="Bound">A</a><a id="975" class="Symbol">)</a> <a id="977" class="Symbol">-&gt;</a> <a id="980" href="heap.libraryMaybe.html#744" class="Function">IsNothing</a> <a id="990" href="heap.libraryMaybe.html#964" class="Bound">a</a> <a id="992" class="Symbol">→</a> <a id="994" href="heap.libraryMaybe.html#942" class="Bound">P</a> <a id="996" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a> <a id="1004" class="Symbol">→</a> <a id="1006" href="heap.libraryMaybe.html#942" class="Bound">P</a> <a id="1008" href="heap.libraryMaybe.html#964" class="Bound">a</a>
<a id="1010" href="heap.libraryMaybe.html#913" class="Function">NothingInductionLemma</a> <a id="1032" href="heap.libraryMaybe.html#1032" class="Bound">p</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1040" href="heap.libraryMaybe.html#1040" class="Bound">x</a><a id="1041" class="Symbol">)</a> <a id="1043" class="Symbol">()</a>
<a id="1046" href="heap.libraryMaybe.html#913" class="Function">NothingInductionLemma</a> <a id="1068" href="heap.libraryMaybe.html#1068" class="Bound">p</a> <a id="1070" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a> <a id="1078" href="heap.libraryMaybe.html#1078" class="Bound">q</a> <a id="1080" href="heap.libraryMaybe.html#1080" class="Bound">q&#39;</a> <a id="1083" class="Symbol">=</a> <a id="1085" href="heap.libraryMaybe.html#1080" class="Bound">q&#39;</a>

<a id="1089" class="Comment">{-
NothingMaybeLem : {A B : Set} → (P : B → Set) → (a : Maybe A)
                  → IsNothing a
                  → (g : A → B)
                  → (b : B)
                  → P b
                  → P (maybe g b a)
NothingMaybeLem P (just x) () b g p
NothingMaybeLem P nothing anothing b g p = p
-}</a>

<a id="maybeAcrossBtoMaybeAcrossB"></a><a id="1391" href="heap.libraryMaybe.html#1391" class="Function">maybeAcrossBtoMaybeAcrossB</a> <a id="1418" class="Symbol">:</a> <a id="1420" class="Symbol">{</a><a id="1421" href="heap.libraryMaybe.html#1421" class="Bound">A</a> <a id="1423" href="heap.libraryMaybe.html#1423" class="Bound">B</a> <a id="1425" class="Symbol">:</a> <a id="1427" class="PrimitiveType">Set</a><a id="1430" class="Symbol">}</a> <a id="1432" class="Symbol">(</a><a id="1433" href="heap.libraryMaybe.html#1433" class="Bound">mab</a> <a id="1437" class="Symbol">:</a> <a id="1439" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="1445" href="heap.libraryMaybe.html#1421" class="Bound">A</a> <a id="1447" href="Data.Product.html#1329" class="Function Operator">×&#39;</a> <a id="1450" href="heap.libraryMaybe.html#1423" class="Bound">B</a><a id="1451" class="Symbol">)</a> <a id="1453" class="Symbol">→</a> <a id="1455" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="1461" class="Symbol">(</a><a id="1462" href="heap.libraryMaybe.html#1421" class="Bound">A</a> <a id="1464" href="Data.Product.html#1329" class="Function Operator">×&#39;</a> <a id="1467" href="heap.libraryMaybe.html#1423" class="Bound">B</a><a id="1468" class="Symbol">)</a>
<a id="1470" href="heap.libraryMaybe.html#1391" class="Function">maybeAcrossBtoMaybeAcrossB</a> <a id="1497" class="Symbol">(</a><a id="1498" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1503" href="heap.libraryMaybe.html#1503" class="Bound">a</a> <a id="1505" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="1507" href="heap.libraryMaybe.html#1507" class="Bound">b</a><a id="1508" class="Symbol">)</a> <a id="1510" class="Symbol">=</a> <a id="1512" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1517" class="Symbol">(</a><a id="1518" href="heap.libraryMaybe.html#1503" class="Bound">a</a> <a id="1520" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="1522" href="heap.libraryMaybe.html#1507" class="Bound">b</a><a id="1523" class="Symbol">)</a>
<a id="1525" href="heap.libraryMaybe.html#1391" class="Function">maybeAcrossBtoMaybeAcrossB</a> <a id="1552" class="Symbol">(</a><a id="1553" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a> <a id="1561" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="1563" class="Symbol">_)</a> <a id="1566" class="Symbol">=</a> <a id="1568" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a>

<a id="maybeFunctor"></a><a id="1577" href="heap.libraryMaybe.html#1577" class="Function">maybeFunctor</a> <a id="1590" class="Symbol">:</a> <a id="1592" class="Symbol">{</a><a id="1593" href="heap.libraryMaybe.html#1593" class="Bound">A</a> <a id="1595" href="heap.libraryMaybe.html#1595" class="Bound">B</a> <a id="1597" class="Symbol">:</a> <a id="1599" class="PrimitiveType">Set</a><a id="1602" class="Symbol">}</a> <a id="1604" class="Symbol">(</a><a id="1605" href="heap.libraryMaybe.html#1605" class="Bound">f</a> <a id="1607" class="Symbol">:</a> <a id="1609" href="heap.libraryMaybe.html#1593" class="Bound">A</a> <a id="1611" class="Symbol">→</a> <a id="1613" href="heap.libraryMaybe.html#1595" class="Bound">B</a><a id="1614" class="Symbol">)</a> <a id="1616" class="Symbol">(</a><a id="1617" href="heap.libraryMaybe.html#1617" class="Bound">ma</a> <a id="1620" class="Symbol">:</a> <a id="1622" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="1628" href="heap.libraryMaybe.html#1593" class="Bound">A</a><a id="1629" class="Symbol">)</a> <a id="1631" class="Symbol">→</a> <a id="1633" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="1639" href="heap.libraryMaybe.html#1595" class="Bound">B</a>
<a id="1641" href="heap.libraryMaybe.html#1577" class="Function">maybeFunctor</a> <a id="1654" href="heap.libraryMaybe.html#1654" class="Bound">f</a> <a id="1656" class="Symbol">(</a><a id="1657" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1662" href="heap.libraryMaybe.html#1662" class="Bound">x</a><a id="1663" class="Symbol">)</a> <a id="1665" class="Symbol">=</a> <a id="1667" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1672" class="Symbol">(</a><a id="1673" href="heap.libraryMaybe.html#1654" class="Bound">f</a> <a id="1675" href="heap.libraryMaybe.html#1662" class="Bound">x</a><a id="1676" class="Symbol">)</a>
<a id="1678" href="heap.libraryMaybe.html#1577" class="Function">maybeFunctor</a> <a id="1691" href="heap.libraryMaybe.html#1691" class="Bound">f</a> <a id="1693" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a> <a id="1701" class="Symbol">=</a> <a id="1703" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a>


<a id="just2Value"></a><a id="1713" href="heap.libraryMaybe.html#1713" class="Function">just2Value</a> <a id="1724" class="Symbol">:</a> <a id="1726" class="Symbol">{</a><a id="1727" href="heap.libraryMaybe.html#1727" class="Bound">A</a> <a id="1729" class="Symbol">:</a> <a id="1731" class="PrimitiveType">Set</a><a id="1734" class="Symbol">}{</a><a id="1736" href="heap.libraryMaybe.html#1736" class="Bound">a</a> <a id="1738" class="Symbol">:</a> <a id="1740" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="1746" href="heap.libraryMaybe.html#1727" class="Bound">A</a><a id="1747" class="Symbol">}(</a><a id="1749" href="heap.libraryMaybe.html#1749" class="Bound">p</a> <a id="1751" class="Symbol">:</a> <a id="1753" href="heap.libraryMaybe.html#833" class="Function">IsJust</a> <a id="1760" href="heap.libraryMaybe.html#1736" class="Bound">a</a><a id="1761" class="Symbol">)</a> <a id="1763" class="Symbol">→</a> <a id="1765" href="heap.libraryMaybe.html#1727" class="Bound">A</a>
<a id="1767" href="heap.libraryMaybe.html#1713" class="Function">just2Value</a> <a id="1778" class="Symbol">{</a><a id="1779" href="heap.libraryMaybe.html#1779" class="Bound">A</a><a id="1780" class="Symbol">}</a> <a id="1782" class="Symbol">{</a><a id="1783" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1788" href="heap.libraryMaybe.html#1788" class="Bound">x</a><a id="1789" class="Symbol">}</a> <a id="1791" href="heap.libraryMaybe.html#1791" class="Bound">p</a> <a id="1793" class="Symbol">=</a> <a id="1795" href="heap.libraryMaybe.html#1788" class="Bound">x</a>
<a id="1797" href="heap.libraryMaybe.html#1713" class="Function">just2Value</a> <a id="1808" class="Symbol">{</a><a id="1809" href="heap.libraryMaybe.html#1809" class="Bound">A</a><a id="1810" class="Symbol">}</a> <a id="1812" class="Symbol">{</a><a id="1813" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a><a id="1820" class="Symbol">}</a> <a id="1822" class="Symbol">()</a>
</pre></body></html>